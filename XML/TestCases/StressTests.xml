<TestCases>
  <test>
    <testName>STRESSTEST-VERIFY-RESTART</testName>
    <testScript>STRESSTEST-VERIFY-RESTART.ps1</testScript>
    <files>.\TestScripts\Linux\utils.sh</files>
    <files>
    </files>
    <TestParameters>
      <param>rebootNumber=STRESS_REBOOT_NUMBER</param>
    </TestParameters>
    <Platform>Azure</Platform>
    <Category>Stress</Category>
    <Area>STRESS</Area>
    <Tags>stress,boot</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <SetupType>OneVM</SetupType>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESSTEST-VERIFY-RESTART-MAX-SRIOV-NICS</testName>
    <testScript>STRESSTEST-VERIFY-RESTART.ps1</testScript>
    <files>.\TestScripts\Linux\utils.sh</files>
    <TestParameters>
      <param>rebootNumber=SRIOV_STRESS_REBOOT_NUMBER</param>
      <param>type=SRIOV</param>
    </TestParameters>
    <Platform>Azure</Platform>
    <Category>Stress</Category>
    <Area>STRESS</Area>
    <Tags>stress,boot,network,sriov</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <Networking>SRIOV</Networking>
      <SetupType>OneVM8NIC</SetupType>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESSTEST-VERIFY-RESTART-MAX-NVME-DISK</testName>
    <testScript>STRESSTEST-VERIFY-RESTART.ps1</testScript>
    <files>.\TestScripts\Linux\utils.sh</files>
    <TestParameters>
      <param>rebootNumber=NVME_STRESS_REBOOT_NUMBER</param>
      <param>type=NVME</param>
    </TestParameters>
    <Platform>Azure</Platform>
    <Category>Stress</Category>
    <Area>STRESS</Area>
    <Tags>stress,boot,storage,nvme</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <SetupType>OneVM</SetupType>
      <OverrideVMSize>Standard_L80s_v2</OverrideVMSize>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESSTEST-VERIFY-RESTART-MAX-GPU-GRID</testName>
    <testScript>STRESSTEST-VERIFY-RESTART.ps1</testScript>
    <files>.\TestScripts\Linux\utils.sh</files>
    <TestParameters>
      <param>rebootNumber=GPU_STRESS_REBOOT_NUMBER</param>
      <param>type=GPU</param>
    </TestParameters>
    <Platform>Azure</Platform>
    <Category>Stress</Category>
    <Area>STRESS</Area>
    <Tags>stress,boot,gpu</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <SetupType>OneVM</SetupType>
      <OverrideVMSize>Standard_NC24</OverrideVMSize>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESSTEST-VERIFY-RESTART-MAX-GPU-CUDA</testName>
    <testScript>STRESSTEST-VERIFY-RESTART.ps1</testScript>
    <files>.\TestScripts\Linux\utils.sh</files>
    <TestParameters>
      <param>rebootNumber=GPU_STRESS_REBOOT_NUMBER</param>
      <param>type=GPU</param>
    </TestParameters>
    <Platform>Azure</Platform>
    <Category>Stress</Category>
    <Area>STRESS</Area>
    <Tags>stress,boot,gpu</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <SetupType>OneVM</SetupType>
      <OverrideVMSize>Standard_NV24</OverrideVMSize>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESSTEST-RELOAD-LIS-MODULES</testName>
    <testScript>RELOAD-MODULES.ps1</testScript>
    <files>.\TestScripts\Linux\RELOAD-MODULES.sh,.\TestScripts\Linux\utils.sh</files>
    <TestParameters>
      <param>LoopCount=1000</param>
    </TestParameters>
    <Platform>Azure,HyperV</Platform>
    <Category>Stress</Category>
    <Area>STRESS</Area>
    <Tags>stress</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <SetupType>OneVM</SetupType>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESSTEST-SYSBENCH</testName>
    <testScript>Sysbench.sh</testScript>
    <files>.\TestScripts\Linux\Sysbench.sh,.\TestScripts\Linux\utils.sh</files>
    <TestParameters>
      <param>TEST_FILE=(seqwr seqrewr seqrd rndrd rndwr rndrw)</param>
    </TestParameters>
    <Platform>HyperV</Platform>
    <Category>Stress</Category>
    <Area>STRESS</Area>
    <Tags>stress</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <SetupType>OneVM</SetupType>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESSTEST-CHANGE-MTU-RELOAD-NETVSC</testName>
    <testScript>STRESS-MTU-Netvsc-Reload.ps1</testScript>
    <Platform>HyperV</Platform>
    <Category>Stress</Category>
    <Area>STRESS</Area>
    <Tags>stress</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <SetupType>OneVM</SetupType>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESSTEST-BOOT-VM-LARGE-MEMORY</testName>
    <testScript>STRESS-BootLargeMemory.ps1</testScript>
    <TestParameters>
      <param>staticMem=true</param>
      <param>memWeight=100</param>
      <param>VMMemory=69632MB</param>
    </TestParameters>
    <Platform>HyperV</Platform>
    <Category>Stress</Category>
    <Area>STRESS</Area>
    <Tags>stress</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <SetupType>OneVM</SetupType>
      <SetupScript>.\TestScripts\Windows\Set-VM-Memory.ps1</SetupScript>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESSTEST-CHECK-EVENTID-18602</testName>
    <testScript>STRESS-EventID-18602-Regression.ps1</testScript>
    <TestParameters>
      <param>count=100</param>
    </TestParameters>
    <Platform>HyperV</Platform>
    <Category>Stress</Category>
    <Area>STRESS</Area>
    <Tags>stress</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <SetupType>OneVM</SetupType>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESSTEST-WEB-PARALLEL-ACCESS</testName>
    <testScript>STRESS-Web.ps1</testScript>
    <files>.\Testscripts\Linux\utils.sh,.\Testscripts\Linux\SR-IOV-Utils.sh,.\Testscripts\Linux\stress_web.sh</files>
    <TestParameters>
      <param>NIC_COUNT=1</param>
      <param>VF_IP1=10.0.0.20</param>
      <param>VF_IP2=10.0.0.40</param>
      <param>NETMASK=255.255.255.0</param>
      <param>parallelConnections='200 500 1000 1020'</param>
      <param>testFileSizeInKb='5 30 100 200 512 1024'</param>
      <param>runtime=120</param>
      <param>HTTP_LOAD=https://partnerpipelineshare.blob.core.windows.net/binarytools/http_load-12mar2006.tar.gz</param>
      <param>Switch_Name=HYPERV_PERF_NIC_NAME</param>
      <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
    </TestParameters>
    <Platform>Azure,HyperV</Platform>
    <Category>Stress</Category>
    <Area>STRESS</Area>
    <Tags>stress,network,sriov</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <Networking>SRIOV</Networking>
      <SetupType>TwoVM2NIC2Host</SetupType>
      <SetupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</SetupScript>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESSTEST-NVME-4K-IO</testName>
    <testScript>PERF-STORAGE-MULTIDISK-RAID0-FIO.ps1</testScript>
    <files>.\Testscripts\Linux\utils.sh,.\Testscripts\Linux\perf_fio.sh,.\Testscripts\Linux\fio_jason_parser.sh,.\Testscripts\Linux\JSON.awk,.\Tools\gawk</files>
    <TestParameters>
      <param>vmCpuNumber=8</param>
      <param>vmMemory=8GB</param>
      <param>NVME=yes</param>
      <param>modes=PERF-STORAGE-4K-IO-MODES</param>
      <param>startQDepth=64</param>
      <param>maxQDepth=16384</param>
      <param>startIO=4</param>
      <param>ioruntime=FIO_STRESS_RUNTIME</param>
      <param>maxIO=4</param>
      <param>PHYSICAL_NUMBER=1</param>
      <param>parseTimeout=FIO_LOG_PARSE_TIMEOUT</param>
      <param>nvme_version=NVME_VERSION</param>
    </TestParameters>
    <cleanupScript>.\Testscripts\Windows\SETUP-Remove-NVME-Disk.ps1</cleanupScript>
    <Platform>Azure,HyperV</Platform>
    <Category>Stress</Category>
    <Area>STRESS</Area>
    <Tags>stress,nvme,storage</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <SetupType>OneVM</SetupType>
      <OverrideVMSize>Standard_L64s_v2</OverrideVMSize>
      <SetupScript>.\Testscripts\Windows\SETUP-Check-PowerPlan.ps1,.\TestScripts\Windows\SETUP-Config-VM.ps1,.\Testscripts\Windows\SETUP-Add-NVME-Disk.ps1</SetupScript>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESS-STORAGE-4K-IO-WITHVERIFY</testName>
    <testScript>PERF-STORAGE-MULTIDISK-RAID0-FIO.ps1</testScript>
    <files>.\Testscripts\Linux\utils.sh,.\Testscripts\Linux\perf_fio.sh,.\Testscripts\Linux\fio_jason_parser.sh,.\Testscripts\Linux\JSON.awk,.\Tools\gawk</files>
    <TestParameters>
      <param>modes=STRESS-STORAGE-4K-IO-MODES</param>
      <param>startQDepth=1</param>
      <param>maxQDepth=256</param>
      <param>startIO=4</param>
      <param>maxIO=4</param>
      <param>fileSize=20G</param>
      <param>PHYSICAL_NUMBER=1</param>
      <param>SCSI=1,1,RAID</param>
      <param>parseTimeout=FIO_LOG_PARSE_TIMEOUT</param>
      <param>testType=Stress</param>
    </TestParameters>
    <cleanupScript>.\Testscripts\Windows\RemoveHardDisk.ps1</cleanupScript>
    <Platform>Azure,HyperV</Platform>
    <Category>
    </Category>
    <Area>
    </Area>
    <Tags>stress,hv_storvsc,storage</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <StorageAccountType>PERF_STORAGE_ACCOUNT_TYPE</StorageAccountType>
      <SetupType>OneVM12Disk</SetupType>
      <SetupScript>.\Testscripts\Windows\SETUP-Check-PowerPlan.ps1,.\Testscripts\Windows\AddHardDisk.ps1</SetupScript>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESS-STORAGE-4K-IO-WITHVERIFY-LONGTIME</testName>
    <testScript>PERF-STORAGE-MULTIDISK-RAID0-FIO.ps1</testScript>
    <files>.\Testscripts\Linux\utils.sh,.\Testscripts\Linux\perf_fio.sh,.\Testscripts\Linux\fio_jason_parser.sh,.\Testscripts\Linux\JSON.awk,.\Tools\gawk</files>
    <TestParameters>
      <param>modes=STRESS-STORAGE-4K-IO-MODES</param>
      <param>chunkSize=256</param>
      <param>ioSize=5000T</param>
      <param>fileSystem=xfs</param>
      <param>startQDepth=64</param>
      <param>maxQDepth=2048</param>
      <param>startIO=4</param>
      <param>maxIO=256</param>
      <param>fileSize=16G</param>
      <param>ioruntime=FIO_STRESS_LONGTIME_RUNTIME</param>
      <param>PHYSICAL_NUMBER=1</param>
      <param>SCSI=1,1,RAID</param>
      <param>parseTimeout=FIO_LOG_PARSE_TIMEOUT</param>
      <param>testType=StressLongTime</param>
    </TestParameters>
    <cleanupScript>.\Testscripts\Windows\RemoveHardDisk.ps1</cleanupScript>
    <Platform>Azure</Platform>
    <Category>
    </Category>
    <Area>
    </Area>
    <Tags>stress,hv_storvsc,storage</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <DiskType>Managed</DiskType>
      <StorageAccountType>PERF_STORAGE_ACCOUNT_TYPE</StorageAccountType>
      <SetupType>OneVM12Disk</SetupType>
      <SetupScript>.\Testscripts\Windows\SETUP-Check-PowerPlan.ps1,.\Testscripts\Windows\AddHardDisk.ps1</SetupScript>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESS-CPU-OFFLINE-ONLINE</testName>
    <testScript>CPU-Offline.ps1</testScript>
    <files>.\Testscripts\Linux\utils.sh,.\Testscripts\Linux\CPUOfflineKernelBuild.sh,.\Testscripts\Linux\channel_change.sh</files>
    <TestParameters>
      <param>repo_url=CPU_CUSTOM_KERNEL_URL</param>
      <param>repo_branch=CPU_CUSTOM_KERNEL_BRANCH</param>
      <param>maxIteration=MAX_CPU_OFFLINEONLINE</param>
      <param>vm_reboot=CPU_OFFLINE_VM_REBOOT</param>
    </TestParameters>
    <Platform>Azure</Platform>
    <Category>Stress</Category>
    <Area>CORE</Area>
    <Tags>cpu,stress</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <SetupType>OneVM</SetupType>
      <OverrideVMSize>Standard_L32s_v2</OverrideVMSize>
    </SetupConfig>
  </test>
  <test>
    <testName>STRESS-POWER-HIBERNATE</testName>
    <testScript>Power-Hibernate.ps1</testScript>
    <files>.\Testscripts\Linux\utils.sh,.\Testscripts\Linux\SetupHbKernel.sh</files>
    <TestParameters>
      <param>hb_url=HB_CUSTOM_KERNEL_URL</param>
      <param>hb_branch=HB_CUSTOM_KERNEL_BRANCH</param>
      <param>hb_loop=DEFAULT_HB_LOOP_COUNT</param>
    </TestParameters>
    <Platform>Azure</Platform>
    <Category>Stress</Category>
    <Area>POWER</Area>
    <Tags>power,stress</Tags>
    <Priority>3</Priority>
    <SetupConfig>
      <SetupType>OneVM</SetupType>
      <OverrideVMSize>Standard_D8s_v3</OverrideVMSize>
    </SetupConfig>
  </test>
</TestCases>